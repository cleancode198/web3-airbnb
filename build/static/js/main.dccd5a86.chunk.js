(this["webpackJsonpairbnb-clone"]=this["webpackJsonpairbnb-clone"]||[]).push([[4],{1001:function(e,t){},1003:function(e,t){},1132:function(e,t){},1134:function(e,t){},1141:function(e,t){},1142:function(e,t){},1158:function(e,t){},1160:function(e,t){},1168:function(e,t){},1179:function(e,t){},1240:function(e,t,n){},1256:function(e,t,n){},1257:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(153),i=n.n(a),r=(n(608),n(25)),o=n(26),l=(n(609),n(154)),j=n.p+"static/media/frontpagebg.2c1c3460.png",u=n.p+"static/media/airbnb.b3ecd9c2.png",d=n(60),b=n(4),O=function(){var e=Object(c.useState)(new Date),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(new Date),i=Object(o.a)(a,2),r=i[0],O=i[1],h=Object(c.useState)("New York"),f=Object(o.a)(h,2),x=f[0],m=f[1],g=Object(c.useState)(2),p=Object(o.a)(g,2),v=p[0],N=p[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"container",style:{backgroundImage:"url(".concat(j,")")},children:Object(b.jsx)("div",{className:"containerGradinet"})}),Object(b.jsxs)("div",{className:"topBanner",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"logo",src:u,alt:"logo"})}),Object(b.jsxs)("div",{className:"tabs",children:[Object(b.jsx)("div",{className:"selected",children:"Places To Stay"}),Object(b.jsx)("div",{children:"Experiences"}),Object(b.jsx)("div",{children:"Online Experiences"})]}),Object(b.jsx)("div",{className:"lrContainers",children:Object(b.jsx)(d.c,{})})]}),Object(b.jsx)("div",{className:"tabContent",children:Object(b.jsxs)("div",{className:"searchFields",children:[Object(b.jsxs)("div",{className:"inputs",children:["Location",Object(b.jsx)(d.i,{defaultOptionIndex:0,onChange:function(e){return m(e.label)},options:[{id:"ny",label:"New York"},{id:"lon",label:"London"},{id:"db",label:"Dubai"},{id:"la",label:"Los Angeles"}]})]}),Object(b.jsx)("div",{className:"vl"}),Object(b.jsxs)("div",{className:"inputs",children:["Check In",Object(b.jsx)(d.d,{id:"CheckIn",onChange:function(e){return s(e.date)}})]}),Object(b.jsx)("div",{className:"vl"}),Object(b.jsxs)("div",{className:"inputs",children:["Check Out",Object(b.jsx)(d.d,{id:"CheckOut",onChange:function(e){return O(e.date)}})]}),Object(b.jsx)("div",{className:"vl"}),Object(b.jsxs)("div",{className:"inputs",children:["Guests",Object(b.jsx)(d.f,{value:2,name:"AddGuests",type:"number",onChange:function(e){return N(Number(e.target.value))}})]}),Object(b.jsx)(l.b,{to:"/rentals",state:{destination:x,checkIn:n,checkOut:r,guests:v},children:Object(b.jsx)("div",{className:"searchButton",children:Object(b.jsx)(d.e,{fill:"#ffffff",size:24,svg:"search"})})})]})}),Object(b.jsxs)("div",{className:"randomLocation",children:[Object(b.jsx)("div",{className:"title",children:"Feel Adventurous"}),Object(b.jsx)("div",{className:"text",children:"Let us decide and discover new places to stay, live, work or just relax."}),Object(b.jsx)(d.a,{text:"Explore A Location",onClick:function(){return console.log(r)}})]})]})},h=n(8),f=n(1),x=n.n(f),m=(n(1240),n.p+"static/media/airbnbRed.d4c2314d.png"),g=n(262);var p=Object(g.GoogleApiWrapper)({apiKey:""})((function(e){var t=e.locations,n=e.google,s=e.setHighLight,a=Object(c.useState)(),i=Object(o.a)(a,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){var e=Object.keys(t),n=e.reduce((function(e,n){return e+Number(t[n].lat)}),0)/e.length,c=e.reduce((function(e,n){return e+Number(t[n].lng)}),0)/e.length;l({lat:n,lng:c})}),[t]),Object(b.jsx)(b.Fragment,{children:r&&Object(b.jsx)(g.Map,{google:n,containerStyle:{width:"50vw",height:"calc(100vh - 135px)"},center:r,initialCenter:t[0],zoom:13,disableDefaultUI:!0,children:t.map((function(e,t){return Object(b.jsx)(g.Marker,{position:e,onClick:function(){return s(t)}})}))})})})),v=n(88);var N=function(e){var t=e.user,n=Object(c.useState)(!1),s=Object(o.a)(n,2),a=s[0],i=s[1],r=Object(v.b)().Moralis,l=Object(c.useState)(),j=Object(o.a)(l,2),u=j[0],O=j[1];return Object(c.useEffect)((function(){!function(){var e=Object(h.a)(x.a.mark((function e(){var n,c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.Object.extend("newBookings"),(c=new r.Query(n)).equalTo("booker",t.get("ethAddress")),e.next=5,c.find();case 5:s=e.sent,O(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{onClick:function(){return i(!0)},children:Object(b.jsx)(d.e,{fill:"#000000",size:24,svg:"user"})}),Object(b.jsx)(d.g,{onCloseButtonPressed:function(){return i(!1)},hasFooter:!1,title:"Your Stays",isVisible:a,children:Object(b.jsx)("div",{style:{display:"flex",justifyContent:"start",flexWrap:"wrap",gap:"10px"},children:u&&u.map((function(e){return Object(b.jsx)("div",{style:{width:"200px"},children:Object(b.jsx)(d.b,{isDisabled:!0,title:e.attributes.city,description:"".concat(e.attributes.datesBooked[0]," for ").concat(e.attributes.datesBooked.length," Days"),children:Object(b.jsx)("div",{children:Object(b.jsx)("img",{width:"180px",src:e.attributes.imgUrl})})})})}))})})]})},k=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(),i=Object(o.a)(a,2),j=i[0],u=i[1],O=Object(c.useState)([]),f=Object(o.a)(O,2),g=f[0],k=f[1],y=Object(v.b)(),C=y.Moralis,w=y.user,D=Object(r.e)().state,S=Object(v.d)(),L=Object(d.j)();Object(c.useEffect)((function(){!function(){var e=Object(h.a)(x.a.mark((function e(){var t,n,c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C.Object.extend("Rentals"),(n=new C.Query(t)).equalTo("city",D.destination),n.greaterThanOrEqualTo("maxGuests_decimal",D.guests),e.next=6,n.find();case 6:c=e.sent,s=[],c.forEach((function(e){s.push({lat:e.attributes.lat,lng:e.attributes.long})})),k(s),u(c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[D]);var F=function(){var e=Object(h.a)(x.a.mark((function e(t,n,c,s){var a,i,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],i=new Date(t);case 1:if(!(i<=n)){e.next=9;break}return a.push(new Date(i).toISOString().slice(0,10)),r={contractAddress:"0x72F02aC07740173eFa432cdeb90dF1882e58b81E",functionName:"addDatesBooked",abi:[{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string[]",name:"newBookings",type:"string[]"}],name:"addDatesBooked",outputs:[],stateMutability:"payable",type:"function"}],params:{id:c,newBookings:a},msgValue:C.Units.ETH(s*a.length)},e.next=6,S.fetch({params:r,onSuccess:function(){L({type:"success",message:"Nice! You are going to ".concat(D.destination,"!!"),title:"Booking Succesful",position:"topL"})},onError:function(e){var t;t=e.data.message,L({type:"error",message:"".concat(t),title:"Booking Failed",position:"topL"})}});case 6:i.setDate(i.getDate()+1),e.next=1;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,c,s){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"topBanner",children:[Object(b.jsx)("div",{children:Object(b.jsx)(l.b,{to:"/",children:Object(b.jsx)("img",{className:"logo",src:m,alt:"logo",onClick:function(){return console.log(D)}})})}),Object(b.jsxs)("div",{className:"searchReminder",children:[Object(b.jsx)("div",{className:"filter",children:D.destination}),Object(b.jsx)("div",{className:"vl"}),Object(b.jsx)("div",{className:"filter",children:"\n           ".concat(D.checkIn.toLocaleString("default",{month:"short"})," \n           ").concat(D.checkIn.toLocaleString("default",{day:"2-digit"})," \n           - \n           ").concat(D.checkOut.toLocaleString("default",{month:"short"})," \n           ").concat(D.checkOut.toLocaleString("default",{day:"2-digit"}),"\n          ")}),Object(b.jsx)("div",{className:"vl"}),Object(b.jsxs)("div",{className:"filter",children:[D.guests," Guest"]}),Object(b.jsx)("div",{className:"searchFiltersIcon",children:Object(b.jsx)(d.e,{fill:"#ffffff",size:20,svg:"search"})})]}),Object(b.jsxs)("div",{className:"lrContainers",children:[w?Object(b.jsx)(N,{user:w}):null,Object(b.jsx)(d.c,{})]})]}),Object(b.jsx)("hr",{className:"line"}),Object(b.jsxs)("div",{className:"rentalsContent",children:[Object(b.jsxs)("div",{className:"rentalsContentL",children:["Stays Available For Your Destination",j&&j.map((function(e,t){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("hr",{className:"line2"}),Object(b.jsxs)("div",{className:n==t?"rentalDivH ":"rentalDiv",children:[Object(b.jsx)("img",{className:"rentalImg",src:e.attributes.imgUrl}),Object(b.jsxs)("div",{className:"rentalInfo",children:[Object(b.jsx)("div",{className:"rentalTitle",children:e.attributes.name}),Object(b.jsx)("div",{className:"rentalDesc",children:e.attributes.unoDescription}),Object(b.jsx)("div",{className:"rentalDesc",children:e.attributes.dosDescription}),Object(b.jsxs)("div",{className:"bottomButton",children:[Object(b.jsx)(d.a,{text:"Stay Here",onClick:function(){console.log(w),w?F(D.checkIn,D.checkOut,e.attributes.uid_decimal.value.$numberDecimal,Number(e.attributes.pricePerDay_decimal.value.$numberDecimal)):L({type:"error",message:"You need to connect your wallet to book a rental",title:"Not Connected",position:"topL"})}}),Object(b.jsxs)("div",{className:"price",children:[Object(b.jsx)(d.e,{fill:"#808080",size:10,svg:"matic"})," ",e.attributes.pricePerDay," / Day"]})]})]})]})]})}))]}),Object(b.jsx)("div",{className:"rentalsContentR",children:Object(b.jsx)(p,{locations:g,setHighLight:s})})]})]})},y=(n(1256),function(){return Object(b.jsxs)(r.c,{children:[Object(b.jsx)(r.a,{path:"/",element:Object(b.jsx)(O,{})}),Object(b.jsx)(r.a,{path:"/rentals",element:Object(b.jsx)(k,{})})]})}),C=function(e){e&&e instanceof Function&&n.e(18).then(n.bind(null,1522)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(v.a,{appId:"83Reu8JlXgzEg9V1drN0OADuopa08eCSPLXz4czs",serverUrl:"https://kivt14y98mje.usemoralis.com:2053/server",children:Object(b.jsx)(d.h,{children:Object(b.jsx)(l.a,{children:Object(b.jsx)(y,{})})})})}),document.getElementById("root")),C()},608:function(e,t,n){},609:function(e,t,n){},876:function(e,t){},906:function(e,t){},947:function(e,t){},949:function(e,t){},969:function(e,t){},971:function(e,t){},983:function(e,t){},999:function(e,t){}},[[1257,5,6]]]);
//# sourceMappingURL=main.dccd5a86.chunk.js.map