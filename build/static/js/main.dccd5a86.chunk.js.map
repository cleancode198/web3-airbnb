{"version":3,"sources":["images/frontpagebg.png","images/airbnb.png","pages/Home.js","images/airbnbRed.png","components/RentalsMap.js","components/User.js","pages/Rentals.js","App.js","reportWebVitals.js","index.js"],"names":["Home","useState","Date","checkIn","setCheckIn","checkOut","setCheckOut","destination","setDestination","guests","setGuests","className","style","backgroundImage","bg","src","logo","alt","defaultOptionIndex","onChange","data","label","options","id","event","date","value","name","type","Number","target","to","state","fill","size","svg","text","onClick","console","log","GoogleApiWrapper","apiKey","locations","google","setHighLight","center","setCenter","useEffect","arr","Object","keys","avgLat","reduce","a","c","length","avgLng","lat","lng","containerStyle","width","height","initialCenter","zoom","disableDefaultUI","map","coords","i","position","User","user","open","setOpen","Moralis","useMoralis","userRentals","setUserRentals","Rentals","extend","query","Query","equalTo","get","find","result","onCloseButtonPressed","hasFooter","title","isVisible","display","justifyContent","flexWrap","gap","e","isDisabled","attributes","city","description","datesBooked","imgUrl","highLight","rentalsList","setRentalsList","coordinates","setCoordinates","searchFilters","useLocation","contractProcessor","useWeb3ExecuteFunction","dispatch","useNotification","greaterThanOrEqualTo","cords","forEach","push","long","bookRental","start","end","price","dt","toISOString","slice","contractAddress","functionName","abi","params","newBookings","msgValue","Units","ETH","fetch","onSuccess","message","onError","error","msg","setDate","getDate","toLocaleString","month","day","unoDescription","dosDescription","uid_decimal","$numberDecimal","pricePerDay_decimal","pricePerDay","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","appId","serverUrl","document","getElementById"],"mappings":"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","file":"static/js/main.dccd5a86.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/frontpagebg.2c1c3460.png\";","export default __webpack_public_path__ + \"static/media/airbnb.b3ecd9c2.png\";","import React, { useState } from \"react\";\r\nimport \"./Home.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport bg from \"../images/frontpagebg.png\";\r\nimport logo from \"../images/airbnb.png\";\r\nimport { ConnectButton, Icon, Select, DatePicker, Input, Button } from \"web3uikit\";\r\n\r\n\r\nconst Home = () => {\r\n  const [checkIn, setCheckIn] = useState(new Date());\r\n  const [checkOut, setCheckOut] = useState(new Date());\r\n  const [destination, setDestination] = useState(\"New York\");\r\n  const [guests, setGuests] = useState(2);\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\" style={{ backgroundImage: `url(${bg})` }}>\r\n        <div className=\"containerGradinet\"></div>\r\n      </div>\r\n\r\n      <div className=\"topBanner\">\r\n        <div>\r\n          <img className=\"logo\" src={logo} alt=\"logo\"></img>\r\n        </div>\r\n        <div className=\"tabs\">\r\n          <div className=\"selected\">Places To Stay</div>\r\n          <div>Experiences</div>\r\n          <div>Online Experiences</div>\r\n        </div>\r\n        <div className=\"lrContainers\">\r\n          <ConnectButton />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"tabContent\">\r\n        <div className=\"searchFields\">\r\n          <div className=\"inputs\">\r\n            Location\r\n            <Select\r\n              defaultOptionIndex={0}\r\n              onChange={(data) => setDestination(data.label)}\r\n              options={[\r\n                {\r\n                  id: \"ny\",\r\n                  label: \"New York\",\r\n                },\r\n                {\r\n                  id: \"lon\",\r\n                  label: \"London\",\r\n                },\r\n                {\r\n                  id: \"db\",\r\n                  label: \"Dubai\",\r\n                },\r\n                {\r\n                  id: \"la\",\r\n                  label: \"Los Angeles\",\r\n                },\r\n              ]}\r\n            />\r\n          </div>\r\n          <div className=\"vl\" />\r\n          <div className=\"inputs\">\r\n            Check In\r\n            <DatePicker\r\n              id=\"CheckIn\"\r\n              onChange={(event) => setCheckIn(event.date)}\r\n            />\r\n          </div>\r\n          <div className=\"vl\" />\r\n          <div className=\"inputs\">\r\n            Check Out\r\n            <DatePicker\r\n              id=\"CheckOut\"\r\n              onChange={(event) => setCheckOut(event.date)}\r\n            />\r\n          </div>\r\n          <div className=\"vl\" />\r\n          <div className=\"inputs\">\r\n            Guests\r\n            <Input\r\n              value={2}\r\n              name=\"AddGuests\"\r\n              type=\"number\"\r\n              onChange={(event) => setGuests(Number(event.target.value))}\r\n            />\r\n          </div>\r\n          <Link\r\n            to={\"/rentals\"}\r\n            state={{\r\n              destination: destination,\r\n              checkIn: checkIn,\r\n              checkOut: checkOut,\r\n              guests: guests\r\n            }}\r\n          >\r\n          <div className=\"searchButton\">\r\n            <Icon fill=\"#ffffff\" size={24} svg=\"search\" />\r\n          </div>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"randomLocation\">\r\n        <div className=\"title\">Feel Adventurous</div>\r\n        <div className=\"text\">\r\n          Let us decide and discover new places to stay, live, work or just\r\n          relax.\r\n        </div>\r\n        <Button\r\n          text=\"Explore A Location\"\r\n          onClick={() => console.log(checkOut)}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/airbnbRed.d4c2314d.png\";","import React, { useState, useEffect } from \"react\";\r\nimport { Map, Marker, GoogleApiWrapper } from \"google-maps-react\";\r\n\r\n\r\nfunction RentalsMap({ locations, google, setHighLight }) {\r\n  const [center, setCenter] = useState();\r\n\r\n  // runs to center a map\r\n  useEffect(() => {\r\n    var arr = Object.keys(locations);\r\n    \r\n    // average let\r\n    var getLat = (key) => locations[key][\"lat\"];\r\n    var avgLat = arr.reduce((a, c) => a + Number(getLat(c)), 0) / arr.length;\r\n\r\n    // average lng\r\n    var getLng = (key) => locations[key][\"lng\"];\r\n    var avgLng = arr.reduce((a, c) => a + Number(getLng(c)), 0) / arr.length;\r\n\r\n    // we define the center of the map\r\n    setCenter({ lat: avgLat, lng: avgLng });\r\n  }, [locations]);\r\n\r\n  return (\r\n    <>\r\n      {center && (\r\n        <Map\r\n          google={google}\r\n          containerStyle={{\r\n            width: \"50vw\",\r\n            height: \"calc(100vh - 135px)\",\r\n          }} \r\n          center={center}\r\n          initialCenter={locations[0]}\r\n          zoom={13}\r\n          disableDefaultUI={true}\r\n        >\r\n          {locations.map((coords, i) => (\r\n            <Marker position={coords} onClick={() => setHighLight(i)} />\r\n          ))}\r\n        </Map>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: \"\",\r\n})(RentalsMap);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Icon, Modal, Card } from \"web3uikit\";\r\nimport { useMoralis } from \"react-moralis\";\r\n\r\n\r\nfunction User({ user }) {\r\n  const [open, setOpen] = useState(false);\r\n  const { Moralis } = useMoralis();\r\n  const [userRentals, setUserRentals] = useState();\r\n  \r\n  useEffect(() => {\r\n    (async function get() {\r\n      const Rentals = Moralis.Object.extend(\"newBookings\");\r\n      const query = new Moralis.Query(Rentals);\r\n      query.equalTo(\"booker\", user.get(\"ethAddress\"));\r\n      const result = await query.find();\r\n      setUserRentals(result);\r\n    })()\r\n  }, [open]);\r\n\r\n  return (\r\n    <>\r\n      <div onClick={() => setOpen(true)}>\r\n        <Icon fill=\"#000000\" size={24} svg=\"user\" />\r\n      </div>\r\n\r\n      <Modal\r\n        onCloseButtonPressed={() => setOpen(false)}\r\n        hasFooter={false}\r\n        title=\"Your Stays\"\r\n        isVisible={open}\r\n      >\r\n        <div style={{display:\"flex\", justifyContent:\"start\", flexWrap:\"wrap\", gap:\"10px\"}}>\r\n          {userRentals &&\r\n            userRentals.map((e)=>{\r\n              return(\r\n                <div style={{ width: \"200px\" }}>\r\n                  <Card\r\n                    isDisabled\r\n                    title={e.attributes.city}\r\n                    description={`${e.attributes.datesBooked[0]} for ${e.attributes.datesBooked.length} Days`}\r\n                  >\r\n                    <div>\r\n                      <img\r\n                        width=\"180px\"\r\n                        src={e.attributes.imgUrl}\r\n                      />\r\n                    </div>\r\n                  </Card>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","import React, { useState, useEffect\r\n } from \"react\";\r\nimport \"./Rentals.css\";\r\nimport { useLocation } from \"react-router\";\r\nimport logo from \"../images/airbnbRed.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Icon, Button, ConnectButton, useNotification } from \"web3uikit\";\r\nimport RentalsMap from \"../components/RentalsMap\";\r\nimport { useMoralis, useWeb3ExecuteFunction } from \"react-moralis\";\r\nimport User from \"../components/User\";\r\n\r\n\r\nconst Rentals = () => {\r\n  const [highLight, setHighLight] = useState();\r\n  const [rentalsList, setRentalsList] = useState();\r\n  const [coordinates, setCoordinates] = useState([]);\r\n\r\n  const { Moralis, user } = useMoralis();\r\n  const {state: searchFilters} = useLocation();\r\n  const contractProcessor = useWeb3ExecuteFunction();\r\n  const dispatch = useNotification();\r\n\r\n  const handleSuccess= () => {\r\n    dispatch({\r\n      type: \"success\",\r\n      message: `Nice! You are going to ${searchFilters.destination}!!`,\r\n      title: \"Booking Succesful\",\r\n      position: \"topL\",\r\n    });\r\n  };\r\n\r\n  const handleError= (msg) => {\r\n    dispatch({\r\n      type: \"error\",\r\n      message: `${msg}`,\r\n      title: \"Booking Failed\",\r\n      position: \"topL\",\r\n    });\r\n  };\r\n\r\n  const handleNoAccount= () => {\r\n    dispatch({\r\n      type: \"error\",\r\n      message: `You need to connect your wallet to book a rental`,\r\n      title: \"Not Connected\",\r\n      position: \"topL\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async function fetch() {\r\n      const Rentals = Moralis.Object.extend(\"Rentals\");\r\n      const query = new Moralis.Query(Rentals);\r\n      query.equalTo(\"city\", searchFilters.destination);\r\n      query.greaterThanOrEqualTo(\"maxGuests_decimal\", searchFilters.guests)\r\n      const result = await query.find(); \r\n      \r\n      let cords = [];\r\n      result.forEach((e) => {\r\n        cords.push({ lat: e.attributes.lat, lng: e.attributes.long });\r\n      });\r\n\r\n      setCoordinates(cords);\r\n      setRentalsList(result);\r\n    })();\r\n  }, [searchFilters]);\r\n\r\n  const bookRental = async(start, end, id, price) => {\r\n    for(\r\n      var arr = [], dt = new Date(start);\r\n      dt <= end;\r\n      dt.setDate(dt.getDate() + 1)\r\n    ) {\r\n      // yyyy-mm-dd\r\n      arr.push(new Date(dt).toISOString().slice(0, 10))\r\n\r\n      let options = {\r\n        contractAddress: \"0x72F02aC07740173eFa432cdeb90dF1882e58b81E\",\r\n        functionName: \"addDatesBooked\",\r\n        abi: [\r\n          {\r\n            \"inputs\": [\r\n              {\r\n                \"internalType\": \"uint256\",\r\n                \"name\": \"id\",\r\n                \"type\": \"uint256\"\r\n              },\r\n              {\r\n                \"internalType\": \"string[]\",\r\n                \"name\": \"newBookings\",\r\n                \"type\": \"string[]\"\r\n              }\r\n            ],\r\n            \"name\": \"addDatesBooked\",\r\n            \"outputs\": [],\r\n            \"stateMutability\": \"payable\",\r\n            \"type\": \"function\"\r\n          }\r\n        ],\r\n        params: {\r\n          id: id,\r\n          newBookings: arr\r\n        },\r\n        msgValue: Moralis.Units.ETH(price * arr.length)\r\n      };\r\n\r\n      await contractProcessor.fetch({\r\n        params: options,\r\n        onSuccess: () => {\r\n          handleSuccess();\r\n        },\r\n        onError: (error) => {\r\n          handleError(error.data.message)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"topBanner\">\r\n        <div>\r\n          <Link to=\"/\">\r\n            <img className=\"logo\" src={logo} alt=\"logo\" onClick={() => console.log(searchFilters)}></img>\r\n          </Link>\r\n        </div>\r\n        <div className=\"searchReminder\">\r\n          <div className=\"filter\">{searchFilters.destination}</div>\r\n          <div className=\"vl\" />\r\n          <div className=\"filter\">\r\n            {`\r\n           ${searchFilters.checkIn.toLocaleString(\"default\", {\r\n             month: \"short\",\r\n           })} \r\n           ${searchFilters.checkIn.toLocaleString(\"default\", {\r\n             day: \"2-digit\",\r\n           })} \r\n           - \r\n           ${searchFilters.checkOut.toLocaleString(\"default\", {\r\n             month: \"short\",\r\n           })} \r\n           ${searchFilters.checkOut.toLocaleString(\"default\", {\r\n             day: \"2-digit\",\r\n           })}\r\n          `}\r\n          </div>\r\n          <div className=\"vl\" />\r\n          <div className=\"filter\">{searchFilters.guests} Guest</div>\r\n          <div className=\"searchFiltersIcon\">\r\n            <Icon fill=\"#ffffff\" size={20} svg=\"search\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"lrContainers\">\r\n          {user ? (\r\n            <User user={user} />\r\n          ):(\r\n            null\r\n          )}\r\n          <ConnectButton />\r\n        </div>\r\n      </div>\r\n\r\n      <hr className=\"line\" />\r\n      <div className=\"rentalsContent\">\r\n        <div className=\"rentalsContentL\">\r\n          Stays Available For Your Destination\r\n          {rentalsList &&\r\n            rentalsList.map((e, i) => {\r\n              return (\r\n                <>\r\n                  <hr className=\"line2\" />\r\n                  <div className={highLight == i ? \"rentalDivH \" : \"rentalDiv\"}>\r\n                    <img className=\"rentalImg\" src={e.attributes.imgUrl}></img>\r\n                    <div className=\"rentalInfo\">\r\n                      <div className=\"rentalTitle\">{e.attributes.name}</div>\r\n                      <div className=\"rentalDesc\">\r\n                        {e.attributes.unoDescription}\r\n                      </div>\r\n                      <div className=\"rentalDesc\">\r\n                        {e.attributes.dosDescription}\r\n                      </div>\r\n                      <div className=\"bottomButton\">\r\n                        <Button\r\n                          text=\"Stay Here\"\r\n                          onClick={() => {\r\n                            console.log(user)\r\n                            if(user) {\r\n                              bookRental(\r\n                                searchFilters.checkIn,\r\n                                searchFilters.checkOut,\r\n                                e.attributes.uid_decimal.value.$numberDecimal,\r\n                                Number(e.attributes.pricePerDay_decimal.value.$numberDecimal)\r\n                              )\r\n                            }else{\r\n                              handleNoAccount()\r\n                            }\r\n                          }}\r\n                        />\r\n                        <div className=\"price\">\r\n                          <Icon fill=\"#808080\" size={10} svg=\"matic\" />{\" \"}\r\n                          {e.attributes.pricePerDay} / Day\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              );\r\n            })}\r\n        </div>\r\n\r\n        <div className=\"rentalsContentR\">\r\n          <RentalsMap locations={coordinates} setHighLight={setHighLight} />        \r\n        </div>\r\n\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Rentals;\r\n","import React from 'react';\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport Home from \"./pages/Home\";\r\nimport Rentals from './pages/Rentals';\r\nimport './App.css';\r\n\r\n\r\nconst App = () => {\r\n  return(\r\n    <Routes>\r\n      <Route path=\"/\" element={<Home />} />\r\n      <Route path=\"/rentals\" element={<Rentals />} />\r\n    </Routes>\r\n  )\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { MoralisProvider } from \"react-moralis\";\r\nimport { NotificationProvider } from 'web3uikit';\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <MoralisProvider appId=\"83Reu8JlXgzEg9V1drN0OADuopa08eCSPLXz4czs\" serverUrl=\"https://kivt14y98mje.usemoralis.com:2053/server\">\r\n      <NotificationProvider>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n      </NotificationProvider>\r\n    </MoralisProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}